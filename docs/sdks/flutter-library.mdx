---
title: "Flutter KYC SDK"
mode: "wide"
description: "The Dojah platform has a smooth widget that enables your users to authorize access to their accounts. This widget works effortlessly across various browsers and devices of all sizes."
---

> ## ðŸ“˜ Get Started with Flutter SDK - Dojah KYC Widget


Reference : [flutter_dojah_kyc Pub Dev package](https://pub.dev/packages/flutter_dojah_kyc)

Example Application: [https://github.com/dojah-inc/Flutter-SDK](https://github.com/dojah-inc/Flutter-SDK)



### Installation

Step 1 : Install flutter_dojah_kyc dependency in **pubspec.yaml** file of your flutter project

```yaml pubspec.yaml
name: dojah_flutter
description: A new Flutter project.

publish_to: 'none'


version: 1.0.0+1

environment:
  sdk: ">=2.12.0 <3.0.0"

dependencies:
  flutter:
    sdk: flutter



  cupertino_icons: ^1.0.2
  flutter_dojah_kyc: 0.4.7

dev_dependencies:
  flutter_test:
    sdk: flutter

  flutter_lints: ^1.0.0

flutter:


  uses-material-design: true
```

### Usage

Step 2 : Create **DojahKYC _dojahKYC** class

```dart main.dart

import 'dart:io' show Platform;
import 'package:flutter/material.dart';
import 'package:flutter_dojah_kyc/flutter_dojah_kyc.dart';
import 'dart:convert';

void main() async {
  runApp(const MyApp());

// await location.requestService();

}

class MyApp extends StatelessWidget {
  const MyApp({Key? key}) : super(key: key);

  // This widget is the root of your application.
  @override
  Widget build(BuildContext context) {
    return MaterialApp(
        title: 'Demo',
        theme: ThemeData(
            // This is the theme of your application.
            //
            // Try running your application with "flutter run". You'll see the
            // application has a blue toolbar. Then, without quitting the app, try
            // changing the primarySwatch below to Colors.green and then invoke
            // "hot reload" (press "r" in the console where you ran "flutter run",
            // or simply save your changes to "hot reload" in a Flutter IDE).
            // Notice that the counter didn't reset back to zero; the application
            // is not restarted.
            //primarySwatch: Colors.blue,
            ),
        home: const HomePage());
  }
}

class HomePage extends StatefulWidget {
  const HomePage({Key? key}) : super(key: key);

  @override
  _HomePageState createState() => _HomePageState();
}

Map<dynamic, dynamic> envVars = Platform.environment;

class _HomePageState extends State<HomePage> {
// final appId= envVars['appId']; //your application ID
// final publicKey = envVars['publicKey']; //your public key

  final appId = "6000604fb87ea60035ef41bb"; //your application ID
  final publicKey = "prod_pk_7jspvKP2FMkjkSZx1qnbgiMWy"; //your public key


  @override
  Widget build(BuildContext context) {
    return Scaffold(
        appBar: AppBar(
          title: const Text("Dojah Widget"),
          //backgroundColor: Colors.yellow,
        ),
        body: Center(
            child: Column(children: <Widget>[
          Container(
            child: TextButton(
              child: const Text(
                'Custom Widget',
                style: TextStyle(fontSize: 20.0),
              ),
              onPressed: () {
                // final userData = {
                //   "first_name": "Michael",
                //   "last_name": "Folayan",
                //   "dob": "1998-05-16",
                //   "residence_country": "Nigeria"
                // };

                final configObj = {


                  "widget_id": ""   //this is generated from easyonboard here https://app.dojah.io/easy-onboard
             
                };




                final metaData = {
                  "user_id": "81828289191919193882",
                };

                final govData = {
                  "bvn": "",
                  "nin": "",
                  "dl": "",
                  "mobile": ""
             };

              

                DojahKYC? _dojahKYC;

                ///Use your appId and publicKey
                _dojahKYC = DojahKYC(
                  appId: appId,
                  publicKey: publicKey,
                  type: "custom",
                  //userData: userData,
                  metaData: metaData,
                  config: configObj,
                  govData: govData,
                  // referenceId: referenceId
                );

                print(json.encode(configObj));
                print(json.encode(configObj));
                //print(userData);
                print(configObj);
                _dojahKYC.open(context,
                    onSuccess: (result) => print(result),
                    onClose: (close) => print('Widget Closed'),
                    onError: (error) => print(error));
              },
            ),
          ),
        ])));
  }
}

```


| Parameter    | Type     | Description                                                                                                                                         |
|--------------|----------|-----------------------------------------------------------------------------------------------------------------------------------------------------|
| type         | string   | Widget Type: Values are **'custom', 'verification', 'identification', 'verification', 'liveness'**                                                   |
| app_id       | string   | Application Id, Get it from your dojah application dashboard [here](https://app.dojah.io/dashboard)                                                  |
| p_key        | string   | Public Key, Get it from your dojah application dashboard [here](https://app.dojah.io/apps)                                                           |
| reference_id | string   | Reference ID, It can be passed to keep track of the verification steps (Started, Ongoing, Successful). NB: reference_id character length must be greater than 10 |
| widget_id    | string   | Widget ID, Get it from your Easy Onboard application dashboard [here](https://app.dojah.io/easy-onboard)                                             |
| user_data    | object   | Automatically update the user data page, and thus skip the page |
| gov_data     | object   | Automatically update the government data page, and thus skip the page|
| metadata     | object   | Your application's metadata to be passed back to you via webhook, onSuccess, or onError                                                              |
| onSuccess    | function | This is called when your user has successfully completed enrollment with their preferred institution. **The sample response data below is passed to the widget**  |
| onError      | function | This is called when your user was unable to successfully complete enrollment.                                                                        |
| onClose      | function | This is called when the widget is closed.                                                                                                            |


Other required installations (make sure to follow the instructions in the webview_screen documentation).

**Kindly request camera permissions before launching the widget**

> ## ðŸ“˜ Request Camera Permission

> Kindly declare and request camera permission in the main activity, at your application level - MainActivity/main.dart before launching the SDK

### Android configuration 
```java Android
// Add the camera permission: 
<uses-permission android:name="android.permission.CAMERA" />
// Add the modify audio settings permission:
<uses-permission android:name="android.permission.MODIFY_AUDIO_SETTINGS" />
```

### iOS configuration 
```java iOS
permissions_path = '../ios'
pod 'Permission-Camera', :path => "#{permissions_path}/Camera"
```

###  Podfile 
```java Podfile
Kindly include this in Podfile set up.

dart: PermissionGroup.camera PERMISSION_CAMERA=1,

dart: PermissionGroup.microphone PERMISSION_MICROPHONE=1,

dart: PermissionGroup.location PERMISSION_LOCATION=1,
```

### infoplist

```java info.plist
Add the following keys to your Info.plist file, 
located in <project root>/ios/Runner/Info.plist:

NSCameraUsageDescription - 
  describe why your app needs access to the camera. This is called Privacy - Camera Usage Description in the visual editor.

NSMicrophoneUsageDescription -
  describe why your app needs access to the microphone, if you intend to record videos. This is called Privacy - Microphone Usage Description in the visual editor.

NSLocationWhenInUseUsageDescription - 
    describe why your app needs access to the location, if you intend to verify address/location. This is called Privacy - Location Usage Description in the visual editor.
```



Run your flutter Project

**Step 3: Handle a Successful Enrollment**

On successful enrollment, the _onSuccess _callback function that you supplied is called by the SDK. We then return the connected account code to your server.

## 

Alternative configuration instead of Specifying pages Array from the SDK

[](https://api-docs.dojah.io/docs/flutter-sdk#alternative-configuration-instead-of-specifying-pages-array-from-the-sdk)

The main advantage of this feature is to enable you make changes to your widget flow or configuration on Dojah Dashboard [here](https://app.dojah.io/easy-onboard)here instead of rebuilding or modifying the main Flutter Application.  
Implementation Example

```
<span data-testid="SyntaxHighlighter">            
final configObj = {


"widget_id": "your widget ID",
  
  
}
</span>
```

Kindly use the overall status (**response.status** (Boolean, i.e _true or false_)) to ascertain if the request failed or succeeded.

> ## ðŸ“˜ Webhook Notifications
> 
> You can receive the same data below (also passed to onSuccess and onError) via a webhook call.
> 
> Register your url for webhook calls [here](https://api-docs.dojah.io/docs/subscribe-to-services) and ensure `kyc.widget` is the `service` you are subscribed to.
> 
> In Config object Kindly set **webhook** object value to true (Boolean)
> 
> Example : **webhook : true**

**The Sample response data after successful verification**

```json Response
{
    metadata: {
        ipinfo: {
            status: "success",
            country: "United States",
            regionName: "Texas",
            city: "Dallas",
            district: "",
            zip: "75247",
            lat: 32.8137,
            lon: -96.8704,
            timezone: "America/Chicago",
            isp: "QuadraNet Enterprises LLC",
            org: "QuadraNet, Inc",
            as: "AS8100 QuadraNet Enterprises LLC",
            mobile: false,
            proxy: true,
            hosting: true,
            query: "155.94.251.121"
        },
        device_info: "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/117.0.0.0 Safari/537.36"
    },
    data: {
        index: {
            data: {},
            message: "Successfully continued to the main checks.",
            status: true
        },
        countries: {
            data: {
                country: "Nigeria"
            },
            message: "Successfully continued to the next step.",
            status: true
        },
        email: {
            data: {
                email: "michael@gmail.com"
            },
            status: true,
            message: "michael@gmail.com validation Successful"
        },
        user-data: {
            data: {
                firstName: "Michael",
                lastName: "Folayan",
                dob: "1998-05-16"
            },
            message: "",
            status: true
        },
        phone-number: {
            data: {
                phone: "+2348103817187"
            },
            message: "+2348103817187 validation Successful",
            status: true
        },
        selfie: {
            data: {
                selfieUrl: "https://dojah-kyc.s3.us-east-2.amazonaws.com/sandbox_kyc_image.png"
            },
            message: "Successfully validated your liveness",
            status: true
        },
        government-data: {
            data: {
                entity: {
                    title: "",
                    nationality: "",
                    bvn: "22300230659",
                    first_name: "VERONICA",
                    middle_name: "",
                    last_name: "ASAR",
                    date_of_birth: "22-Apr-1980",
                    phone_number1: "08011111111",
                    phone_number2: "",
                    gender: "Female",
                    enrollment_bank: "",
                    enrollment_branch: "",
                    email: "",
                    lga_of_origin: "",
                    lga_of_residence: "",
                    marital_status: "",
                    nin: "",
                    name_on_card: "",
                    residential_address: "",
                    state_of_origin: "",
                    state_of_residence: "",
                    watch_listed: "",
                    level_of_account: "",
                    registration_date: "",
                    customer: "6bb82c41-e15e-4308-b99d-e9640818eca9",
                    image_url: "https://dojah-kyc.s3-us-east-2.amazonaws.com/John_Doe_1688377760081373.jpg"
                },
                message: "",
                status: true
            }
        },
        id: {
            data: {
                idUrl: "https://dojah-files.s3.us-east-2.amazonaws.com/sandbox_verification_placeholder.png",
                backUrl: "https://dojah-files.s3.us-east-2.amazonaws.com/sandbox_verification_placeholder.png",
                idData: {
                    first_name: "John",
                    last_name: "Doe",
                    middle_name: "",
                    nationality: "Nigerian",
                    mrz_status: "",
                    expiry_date: "2020-01-01",
                    document_type: "National ID",
                    document_number: "123456789",
                    date_of_birth: "1990-01-01",
                    date_issued: "2019-01-01",
                    extras: ""
                }
            },
            status: true,
            message: "Successfully verified your id"
        },
        business-data: {
            business_name: null,
            business_number: null,
            business_type: "BN",
            registration_date: null,
            business_address: null
        },
        business-id: {
            business_name: "ABC Company LIMITED",
            business_type: "Business",
            business_number: "1237654",
            business_address: "",
            registration_date: "",
            image_url: "https://dojah-kyc.s3.us-east-2.amazonaws.com/sandbox_kyc_image.png"
        },
        address: {
            message: "Successfully verified your address",
            status: true,
            data: {
                location: {
                    userLocation: {
                        latitude: "6.6013817",
                        longitude: "3.2806906",
                        name: "31 Road, Round About, Gowon Estate Alimosho, 100001, Lagos, Nigeria"
                    },
                    addressLocation: {
                        latitude: "6.5765376",
                        longitude: "3.3292288"
                    }
                }
            }
        },
        additional-document: [
            {
                document_type: "image",
                document_url: "https://dojah-images.s3.amazonaws.com/652900d3f3a8a1003fdd5b71374eb32a-689d-4185-8921-78f524cd7eae.jpeg"
            }
        ]
    },
    businessData: {
        business_name: null,
        business_number: null,
        business_type: "BN",
        registration_date: null,
        business_address: null
    },
    businessId: {
        business_name: "ABC Company LIMITED",
        business_type: "Business",
        business_number: "1237654",
        business_address: "",
        registration_date: "",
        image_url: "https://dojah-kyc.s3.us-east-2.amazonaws.com/sandbox_kyc_image.png"
    },
    governmentData: {
        title: "",
        nationality: "",
        bvn: "22300230659",
        first_name: "VERONICA",
        middle_name: "",
        last_name: "ASAR",
        date_of_birth: "22-Apr-1980",
        phone_number1: "08011111111",
        phone_number2: "",
        gender: "Female",
        enrollment_bank: "",
        enrollment_branch: "",
        email: "",
        lga_of_origin: "",
        lga_of_residence: "",
        marital_status: "",
        nin: "",
        name_on_card: "",
        residential_address: "",
        state_of_origin: "",
        state_of_residence: "",
        watch_listed: "",
        level_of_account: "",
        registration_date: "",
        customer: "6bb82c41-e15e-4308-b99d-e9640818eca9",
        image_url: "https://dojah-kyc.s3-us-east-2.amazonaws.com/John_Doe_1688377760081373.jpg"
    },
    userDetails: {
        title: "",
        nationality: "",
        bvn: "22300230659",
        first_name: "VERONICA",
        middle_name: "",
        last_name: "ASAR",
        date_of_birth: "22-Apr-1980",
        phone_number1: "08011111111",
        phone_number2: "",
        gender: "Female",
        enrollment_bank: "",
        enrollment_branch: "",
        email: "",
        lga_of_origin: "",
        lga_of_residence: "",
        marital_status: "",
        nin: "",
        name_on_card: "",
        residential_address: "",
        state_of_origin: "",
        state_of_residence: "",
        watch_listed: "",
        level_of_account: "",
        registration_date: "",
        customer: "6bb82c41-e15e-4308-b99d-e9640818eca9",
        image_url: "https://dojah-kyc.s3-us-east-2.amazonaws.com/John_Doe_1688377760081373.jpg"
    },
    idType: "BVN",
    value: "1234",
    additionalDocument: [
        {
            document_type: "image",
            document_url: "https://dojah-images.s3.amazonaws.com/652900d3f3a8a1003fdd5b71374eb32a-689d-4185-8921-78f524cd7eae.jpeg"
        }
    ],
    idData: {
        first_name: "John",
        last_name: "Doe",
        middle_name: "",
        nationality: "Nigerian",
        mrz_status: "",
        expiry_date: "2020-01-01",
        document_type: "National ID",
        document_number: "123456789",
        date_of_birth: "1990-01-01",
        date_issued: "2019-01-01",
        extras: ""
    },
    idUrl: "https://dojah-files.s3.us-east-2.amazonaws.com/sandbox_verification_placeholder.png",
    backUrl: "https://dojah-files.s3.us-east-2.amazonaws.com/sandbox_verification_placeholder.png",
    message: "Successfully completed the verification.",
    referenceId: "DJ-94D5A85B12",
    verificationMode: "LIVENESS",
    verificationType: "RC-NUMBER",
    verificationValue: "1234",
    verificationUrl: "https://app.dojah.io/verifications/bio-data/DJ-94D5A85B12",
    selfieUrl: "https://dojah-kyc.s3.us-east-2.amazonaws.com/sandbox_kyc_image.png",
    status: true,
    aml: {
        status: false
    },
    verificationStatus: "Completed"
}
```


By Setting the user-data and country page config enable object to false, The user-data and country page will be removed. Kindly note that this customisation can be implemented only in custom widget type.

> ## ðŸ“˜ How to Exclude or Skip the User data Page
> 
> Kindly pass userData inside the DojahKYC constructor class.
> 
> Example :
> 
> ```text
> final userData = {  
>            "first_name": "JOHN",  
>            "last_name": "DOE",  
>            "dob": "2022-03-12"  
>           };
> 
> _dojahKYC = DojahKYC(appId: "appId",  
>           publicKey: "p_key",  
>           type: "custom",  
>           userData: userData, 
>           govData: govData, 
>           config: configObj,)
>
> ```

> ## ðŸ“˜  How to retrieve the Selfie Photo
> 
> There's a response object that is sent to the client via the widget launcher on success or failure  
> **selfieUrl** and **idUrl** under selfie and id in the success response objects, which holds the final selfie capture and id capture respectively.

> ## ðŸ“˜ How to Fix Android File Upload Crash
> 
> ```text 
>  STEP 1:
> 
> 
> Open the AndroidManifest.xml file located in the android/app/src/main directory of your Flutter project.
> 
> Inside the &lt;application&gt; tag, add the following code:
> &lt;provider android:name="androidx.core.content.FileProvider" android:authorities="com.example.dojah_kyc.flutter_inappwebview.fileprovider" android:exported="false" android:grantUriPermissions="true"&gt; &lt;meta-data android:name="android.support.FILE_PROVIDER_PATHS" android:resource="@xml/provider_paths" /&gt; &lt;/provider&gt; 
> Make sure to replace com.example.dojah_kyc with your applicationâ€™s package name.
> 
> 
> STEP 2: 
> 
> Create a new file named provider_paths.xml in the android/app/src/main/res/xml directory (create the xml directory if it doesnâ€™t exist). Add the following code to the provider_paths.xml file:
> 
> &lt;paths xmlns:android="http://schemas.android.com/apk/res/android"&gt; &lt;external-path name="external_files" path="." /&gt; &lt;/paths&gt; 
> 
> 
> 
> STEP 3: 
> 
> Save the changes and rebuild your Flutter application.
> By following these steps, you should be able to properly configure the file provider and resolve the â€œCouldnâ€™t find meta-data for providerâ€ error when selecting files with the file picker in your Flutter application on Android devices.
>
> ```

## Deployment

REMEMBER TO CHANGE THE APP ID and PUBLIC KEY WHEN DEPLOYING TO A LIVE (PRODUCTION) ENVIRONMENT

## [](https://api-docs.dojah.io/docs/flutter-sdk#contributing)

[https://github.com/dojah-inc/flutter-financial](https://github.com/dojah-inc/flutter-financial)

Example Application : [https://github.com/dojah-inc/flutter-financial/tree/master/examples](https://github.com/dojah-inc/flutter-financial/tree/master/examples)

1.  Fork it!
2.  Create your feature branch: git checkout -b feature/feature-name
3.  Commit your changes: git commit -am 'Some commit message'
4.  Push to the branch: git push origin feature/feature-name
5.  Submit a pull request ðŸ˜‰ðŸ˜‰

## [](https://api-docs.dojah.io/docs/flutter-sdk#license)

This project is licensed under the MIT License - see the [LICENSE](https://github.com/dojah-inc/flutter-financial/blob/main/LICENSE) file for details

