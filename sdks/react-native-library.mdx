---
title: "React Native SDK"
mode: "wide"
description: "The Dojah platform has a smooth widget that enables your users to authorize access to their accounts. This widget works effortlessly across various browsers and devices of all sizes."
---

> ## ðŸ“˜ Get Started with React Native SDK - Dojah


### Installation

```text npm
npm install react-native-dojah-sdks --save
```

```text yarn

yarn add react-native-dojah-sdks
```

**Confuguration and usage**

Reference : [https://www.npmjs.com/package/react-native-dojah-sdks](https://www.npmjs.com/package/react-native-dojah-sdks)

Example Application: [https://github.com/dojah-inc/React-native-SDK](https://github.com/dojah-inc/React-native-SDK)


At this stage, you can now create a Dojah widget object by passing in your public key in object representing your preferred configuration options.

```jsx
import React, {useEffect} from 'react';
import Dojah from 'react-native-dojah-sdks';

const App = () => {
  /**
   *  This is your app ID
   * (go to your dashboard at
   * https://dojah.io/dashboard
   * to create an app and retrieve it)
   */
  const appID = '';

  /**
   *  This is your account public key
   *  (go to your dashboard at
   *  https://dojah.io/dashboard to
   *  retrieve it. You can also regenerate one)
   */
  const publicKey = '';

  /**
   *  This is the widget type you'd like to load
   *  (go to your dashboard at
   *  https://dojah.io/dashboard to enable different
   *  widget types)
   */
  const type = 'custom';

  /**
   *  These are the configuration options
   *  available to you are:
   *  {debug: BOOL, pages: ARRAY[page: STRING, config: OBJECT]}
   *
   *  The config object is as defined below
   *
   *  NOTE: The otp and selfie options are only
   *  available to the `verification` widget
   */
  const config = {
    widget_id: '',  //this is generated from easyonboard here https://app.dojah.io/easy-onboard
    pages: [],
  };

  /**
   *  These are the user's data to verify, options
   *  available to you possible options are:
   *  {first_name: STRING, last_name: STRING, dob: DATE STRING}
   *
   *  NOTE: Passing all the values will automatically skip
   *  the user-data page (thus the commented out `last_name`)
   */
  const userData = {
    first_name: 'Chijioke',
    last_name: '', // 'Nna'
    dob: '2022-05-01',
  };

  /**
   *  These are the metadata options
   *  You can pass any values within the object
   */
  const metadata = {
    user_id: '121',
  };


  const govData = {
                  bvn: "",
                  nin: "",
                  dl: "",
                  mobile: ""
  };
  /**
   * @param {String} responseType
   * This method receives the type
   * The type can only be one of:
   * loading, begin, success, error, close
   * @param {String} data
   * This is the data from doja
   */
  const response = (responseType, data) => {
    console.log('Response:', responseType, JSON.stringify(data));
    if (responseType === 'success') {
    } else if (responseType === 'error') {
    } else if (responseType === 'close') {
    } else if (responseType === 'begin') {
    } else if (responseType === 'loading') {
    }
  };

  /**
   *  The `ViewStyle` of the outermost `View` wrapping the Dojah container
   *  defaults to {width: '100%', height: '100%'}
   */
  const outerContainerStyle = {width: '100%', height: '100%'};

  /**
   *  The `ViewStyle` of the `WebView` containing the Dojah connection
   *  This prop is passed to the WebView `style` prop
   */
  const style = {};

  /**
   *  The `ViewStyle` of the innermost `View` within the WebView
   *  This prop is passed to the WebView `containerStyle` prop
   */
  const innerContainerStyle = {};

  useEffect(() => {
    Dojah.hydrate(appID, publicKey);
  }, [appID, publicKey]);

  return (
    <Dojah
      appID={appID}
      publicKey={publicKey}
      type={type}
      userData={userData}
      govData={govData}
      metadata={metadata}
      config={config}
      response={response}
      outerContainerStyle={outerContainerStyle}
      style={style}
      innerContainerStyle={innerContainerStyle}
    />
  );
};

export default App;
```

| Parameter | Type | Description |
| --- | --- | --- |
| type | string | Widget Type : Values are **'custom', 'verification', 'identification', 'verification', 'liveness'** |
| app_id | string | Application Id, Get it from your dojah application dashboard [here](https://app.dojah.io/dashboard) |
| p_key | string | Public Key, Get it from your dojah application dashboard [here](https://app.dojah.io/apps) |
| reference_id | string | Reference ID, It can be passed to keep track of the verification steps (Started, Ongoing, Successful)
NB : reference_id character length must be greater than 10

 |
| widget_id | string | Widget ID, Get it from your Easy Onboard application dashboard [here](https://app.dojah.io/easy-onboard) |

Other required installations (make sure to follow the instructions in the react-native-webview documentation).

**N.B.**

[https://github.com/react-native-webview/react-native-webview/issues/140#issuecomment-574185464](https://github.com/react-native-webview/react-native-webview/issues/140#issuecomment-574185464)

```text Curl
npm install react-native-webview --save
```

> ## ðŸ“˜ **Kindly request camera permissions before launching the widget**
> 
> Kindly declare and request camera permission in the main activity, at your application level - MainActivity before launching the SDK

### Android configuration

```xml MainActivity
// Add the camera permission: 
<uses-permission android:name="android.permission.CAMERA" />
// Add the modify audio settings permission:
<uses-permission android:name="android.permission.MODIFY_AUDIO_SETTINGS" />
```

### iOS Confuguration

```xml iOS
permissions_path = '../node_modules/react-native-permissions/ios'
pod 'Permission-Camera', :path => "#{permissions_path}/Camera"
```


**The Sample response data after successful verification**

```json Response
{
    metadata: {
        ipinfo: {
            status: "success",
            country: "United States",
            regionName: "Texas",
            city: "Dallas",
            district: "",
            zip: "75247",
            lat: 32.8137,
            lon: -96.8704,
            timezone: "America/Chicago",
            isp: "QuadraNet Enterprises LLC",
            org: "QuadraNet, Inc",
            as: "AS8100 QuadraNet Enterprises LLC",
            mobile: false,
            proxy: true,
            hosting: true,
            query: "155.94.251.121"
        },
        device_info: "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/117.0.0.0 Safari/537.36"
    },
    data: {
        index: {
            data: {},
            message: "Successfully continued to the main checks.",
            status: true
        },
        countries: {
            data: {
                country: "Nigeria"
            },
            message: "Successfully continued to the next step.",
            status: true
        },
        email: {
            data: {
                email: "michael@gmail.com"
            },
            status: true,
            message: "michael@gmail.com validation Successful"
        },
        user-data: {
            data: {
                firstName: "Michael",
                lastName: "Folayan",
                dob: "1998-05-16"
            },
            message: "",
            status: true
        },
        phone-number: {
            data: {
                phone: "+2348103817187"
            },
            message: "+2348103817187 validation Successful",
            status: true
        },
        selfie: {
            data: {
                selfieUrl: "https://dojah-kyc.s3.us-east-2.amazonaws.com/sandbox_kyc_image.png"
            },
            message: "Successfully validated your liveness",
            status: true
        },
        government-data: {
            data: {
                entity: {
                    title: "",
                    nationality: "",
                    bvn: "22300230659",
                    first_name: "VERONICA",
                    middle_name: "",
                    last_name: "ASAR",
                    date_of_birth: "22-Apr-1980",
                    phone_number1: "08011111111",
                    phone_number2: "",
                    gender: "Female",
                    enrollment_bank: "",
                    enrollment_branch: "",
                    email: "",
                    lga_of_origin: "",
                    lga_of_residence: "",
                    marital_status: "",
                    nin: "",
                    name_on_card: "",
                    residential_address: "",
                    state_of_origin: "",
                    state_of_residence: "",
                    watch_listed: "",
                    level_of_account: "",
                    registration_date: "",
                    customer: "6bb82c41-e15e-4308-b99d-e9640818eca9",
                    image_url: "https://dojah-kyc.s3-us-east-2.amazonaws.com/John_Doe_1688377760081373.jpg"
                },
                message: "",
                status: true
            }
        },
        id: {
            data: {
                idUrl: "https://dojah-files.s3.us-east-2.amazonaws.com/sandbox_verification_placeholder.png",
                backUrl: "https://dojah-files.s3.us-east-2.amazonaws.com/sandbox_verification_placeholder.png",
                idData: {
                    first_name: "John",
                    last_name: "Doe",
                    middle_name: "",
                    nationality: "Nigerian",
                    mrz_status: "",
                    expiry_date: "2020-01-01",
                    document_type: "National ID",
                    document_number: "123456789",
                    date_of_birth: "1990-01-01",
                    date_issued: "2019-01-01",
                    extras: ""
                }
            },
            status: true,
            message: "Successfully verified your id"
        },
        business-data: {
            business_name: null,
            business_number: null,
            business_type: "BN",
            registration_date: null,
            business_address: null
        },
        business-id: {
            business_name: "ABC Company LIMITED",
            business_type: "Business",
            business_number: "1237654",
            business_address: "",
            registration_date: "",
            image_url: "https://dojah-kyc.s3.us-east-2.amazonaws.com/sandbox_kyc_image.png"
        },
        address: {
            message: "Successfully verified your address",
            status: true,
            data: {
                location: {
                    userLocation: {
                        latitude: "6.6013817",
                        longitude: "3.2806906",
                        name: "31 Road, Round About, Gowon Estate Alimosho, 100001, Lagos, Nigeria"
                    },
                    addressLocation: {
                        latitude: "6.5765376",
                        longitude: "3.3292288"
                    }
                }
            }
        },
        additional-document: [
            {
                document_type: "image",
                document_url: "https://dojah-images.s3.amazonaws.com/652900d3f3a8a1003fdd5b71374eb32a-689d-4185-8921-78f524cd7eae.jpeg"
            }
        ]
    },
    businessData: {
        business_name: null,
        business_number: null,
        business_type: "BN",
        registration_date: null,
        business_address: null
    },
    businessId: {
        business_name: "ABC Company LIMITED",
        business_type: "Business",
        business_number: "1237654",
        business_address: "",
        registration_date: "",
        image_url: "https://dojah-kyc.s3.us-east-2.amazonaws.com/sandbox_kyc_image.png"
    },
    governmentData: {
        title: "",
        nationality: "",
        bvn: "22300230659",
        first_name: "VERONICA",
        middle_name: "",
        last_name: "ASAR",
        date_of_birth: "22-Apr-1980",
        phone_number1: "08011111111",
        phone_number2: "",
        gender: "Female",
        enrollment_bank: "",
        enrollment_branch: "",
        email: "",
        lga_of_origin: "",
        lga_of_residence: "",
        marital_status: "",
        nin: "",
        name_on_card: "",
        residential_address: "",
        state_of_origin: "",
        state_of_residence: "",
        watch_listed: "",
        level_of_account: "",
        registration_date: "",
        customer: "6bb82c41-e15e-4308-b99d-e9640818eca9",
        image_url: "https://dojah-kyc.s3-us-east-2.amazonaws.com/John_Doe_1688377760081373.jpg"
    },
    userDetails: {
        title: "",
        nationality: "",
        bvn: "22300230659",
        first_name: "VERONICA",
        middle_name: "",
        last_name: "ASAR",
        date_of_birth: "22-Apr-1980",
        phone_number1: "08011111111",
        phone_number2: "",
        gender: "Female",
        enrollment_bank: "",
        enrollment_branch: "",
        email: "",
        lga_of_origin: "",
        lga_of_residence: "",
        marital_status: "",
        nin: "",
        name_on_card: "",
        residential_address: "",
        state_of_origin: "",
        state_of_residence: "",
        watch_listed: "",
        level_of_account: "",
        registration_date: "",
        customer: "6bb82c41-e15e-4308-b99d-e9640818eca9",
        image_url: "https://dojah-kyc.s3-us-east-2.amazonaws.com/John_Doe_1688377760081373.jpg"
    },
    idType: "BVN",
    value: "1234",
    additionalDocument: [
        {
            document_type: "image",
            document_url: "https://dojah-images.s3.amazonaws.com/652900d3f3a8a1003fdd5b71374eb32a-689d-4185-8921-78f524cd7eae.jpeg"
        }
    ],
    idData: {
        first_name: "John",
        last_name: "Doe",
        middle_name: "",
        nationality: "Nigerian",
        mrz_status: "",
        expiry_date: "2020-01-01",
        document_type: "National ID",
        document_number: "123456789",
        date_of_birth: "1990-01-01",
        date_issued: "2019-01-01",
        extras: ""
    },
    idUrl: "https://dojah-files.s3.us-east-2.amazonaws.com/sandbox_verification_placeholder.png",
    backUrl: "https://dojah-files.s3.us-east-2.amazonaws.com/sandbox_verification_placeholder.png",
    message: "Successfully completed the verification.",
    referenceId: "DJ-94D5A85B12",
    verificationMode: "LIVENESS",
    verificationType: "RC-NUMBER",
    verificationValue: "1234",
    verificationUrl: "https://app.dojah.io/verifications/bio-data/DJ-94D5A85B12",
    selfieUrl: "https://dojah-kyc.s3.us-east-2.amazonaws.com/sandbox_kyc_image.png",
    status: true,
    aml: {
        status: false
    },
    verificationStatus: "Completed"
}
```

> ## ðŸ“˜ How to retrieve the Selfie Photo
> 
> There's a response object that is sent to the client via the widget launcher on success or failure  
> **selfieUrl** and **idUrl** under selfie and id in the success response objects, which holds the final selfie capture and id capture respectively.

See the example folder for an implementation

> ## ðŸ“˜ Webhook Notifications
> 
> You can receive the same data below (also passed to onSuccess and onError) via a webhook call.
> 
> Register your url for webhook calls [here](https://api-docs.dojah.io/docs/subscribe-to-services) and ensure `kyc.widget` is the `service` you are subscribed to.
> 
> In Config object Kindly set **webhook** object value to true (Boolean)
> 
> Example : **webhook : true**

## Demo and Setup

[https://www.loom.com/share/6aed078b85124a4ba714210271705979](https://www.loom.com/share/6aed078b85124a4ba714210271705979)


##  ðŸ“˜ Fix for React-Native android crashing during file/image upload

Permissions:  Android
android/settings.gradle

```script index.js 

include â€˜:react-native-permissionsâ€™
project(â€˜:react-native-permissionsâ€™).projectDir = new File(rootProject.projectDir, â€˜../node_modules/react-native-permissions/androidâ€™)
```
```xml AndroidManifest.xml

<uses-permission android:name=â€œandroid.permission.READ_EXTERNAL_STORAGEâ€ />
Pemission: IOS
```

```plist Info.plist

<key>NSFileProviderDomainUsageDescription</key>
<string> Dojah wants to access your media files </string>

```